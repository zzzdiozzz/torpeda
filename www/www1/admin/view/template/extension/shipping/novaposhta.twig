{{ header }}{{ column_left }}
<div id="content">
	<div class="page-header">
		<div class="container-fluid">
			<div class="row">
				<ul class="breadcrumb">
					{% for breadcrumb in breadcrumbs %}
						<li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
                    {% endfor %}
				</ul>
			</div>
			<h1><i class="fa fa-truck"></i> {{ heading_title }} v. {{ v }}</h1>
			<div class="pull-right">
				<div class="btn-group">
					<button type="button" onclick="save();" data-toggle="tooltip" title="{{ button_save }}" class="btn btn-primary"><i class="fa fa-save"></i></button>
					<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<span class="caret"></span>
						<span class="sr-only"></span>
					</button>
					<ul class="dropdown-menu dropdown-menu-right">
						<li><a onclick="$('#form-novaposhta').submit();" style="cursor: pointer;"><i class="fa fa-sign-out fa-fw" aria-hidden="true"></i> {{ button_save_and_exit }}</a></li>
						<li><a onclick="settings('basic');" style="cursor: pointer;"><i class="fa fa-cloud-download fa-fw" aria-hidden="true"></i> {{ button_download_basic_settings }}</a></li>
						<li><a onclick="settings('import');" style="cursor: pointer;"><i class="fa fa-download fa-fw" aria-hidden="true"></i> {{ button_import_settings }}</a></li>
						<li><a onclick="settings('export');" style="cursor: pointer;"><i class="fa fa-upload fa-fw" aria-hidden="true"></i> {{ button_export_settings }}</a></li>
					</ul>
				</div>
				<a href="{{ cancel }}" data-toggle="tooltip" title="{{ button_cancel }}" class="btn btn-danger" role="button"><i class="fa fa-reply"></i></a>
			</div>
		</div>
	</div>
 	<div class="container-fluid">
        {% if success %}
			<div class="alert alert-success">
    			<i class="fa fa-check-circle"></i> {{ success }}<button type="button" class="close" data-dismiss="alert">&times;</button>
    		</div>
        {% endif %}
        {% if error_warning %}
			<div class="alert alert-danger">
				<i class="fa fa-exclamation-circle"></i> {{ error_warning }}<button type="button" class="close" data-dismiss="alert">&times;</button>
			</div>
        {% endif %}
    	<div class="panel panel-default">
      		<div class="panel-heading">
        		<h3 class="panel-title"><i class="fa fa-cog" aria-hidden="true"></i> {{ text_settings }}</h3>
      		</div>
      		<div class="panel-body">
        		<form action="{{ save_and_exit }}" method="post" enctype="multipart/form-data" id="form-novaposhta" class="form-horizontal">
        			<ul class="nav nav-tabs">
						{% if license %}
							<li{{ license ? ' class="active"' }}><a href="#tab-general" data-toggle="tab"><i class="fa fa-cogs"></i> {{ tab_general }}</a></li>
							<li><a href="#tab-database" data-toggle="tab"><i class="fa fa-database"></i> {{ tab_database }}</a></li>
							<li><a href="#tab-sender" data-toggle="tab"><i class="fa fa-user" aria-hidden="true"></i> {{ tab_sender }}</a></li>
							<li><a href="#tab-recipient" data-toggle="tab"><i class="fa fa-users" aria-hidden="true"></i> {{ tab_recipient }}</a></li>
							<li><a href="#tab-departure" data-toggle="tab"><i class="fa fa-cube" aria-hidden="true"></i> {{ tab_departure }}</a></li>
							<li><a href="#tab-payment" data-toggle="tab"><i class="fa fa-money" aria-hidden="true"></i> {{ tab_payment }}</a></li>
							<li><a href="#tab-consignment_note" data-toggle="tab"><i class="fa fa-file-text-o" aria-hidden="true"></i> {{ tab_consignment_note }}</a></li>
							<li><a href="#tab-cron" data-toggle="tab"><i class="fa fa-tasks"></i> {{ tab_cron }}</a></li>
                        {% endif %}
						<li role="presentation" class="dropdown{{ license == false ? ' active' }}">
		  					<a class="dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" style="cursor: pointer;"><i class="fa fa-life-ring"></i> {{ tab_support }} <span class="caret"></span></a>
		  					<ul class="dropdown-menu dropdown-menu-right">
								<li{{ license == false ? ' class="active"' }}><a href="#tab-support" data-toggle="tab">{{ text_contacts }}</a></li>
    							<li><a href="{{ instruction_href }}" target="_blank">{{ text_instruction }}</a></li>
							</ul>
		  				</li>
					</ul>
					<div class="tab-content">
                        {% if license %}
							<div class="tab-pane fade{{ license ? 'in active' }}" id="tab-general">
								<div class="col-sm-2">
									<ul class="nav nav-pills nav-stacked">
										<li class="active"><a href="#tab-global" data-toggle="pill">{{ text_global }}</a></li>
										<li><a href="#tab-warehouse" data-toggle="pill">{{ text_warehouse }}</a></li>
										<li><a href="#tab-doors" data-toggle="pill">{{ text_doors }}</a></li>
									</ul>
								</div>
								<div class="col-sm-10">
									<div class="tab-content">
										<div class="tab-pane active" id="tab-global">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-status-enabled"><span data-toggle="tooltip" title="{{ help_status }}">{{ entry_status }}</span></label>
												<div class="col-sm-4">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta_status" value="0" id="input-status-disabled"{{ not novaposhta_status ? ' checked' }}><label class="col-sm-4" for="input-status-enabled">{{ text_disabled }}</label>
														<input type="radio" name="shipping_novaposhta_status" value="1" id="input-status-enabled"{{ novaposhta_status ? ' checked' }}><label class="col-sm-4" for="input-status-disabled">{{ text_enabled }}</label>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-debugging_mode-enabled"><span data-toggle="tooltip" title="{{ help_debugging_mode }}">{{ entry_debugging_mode }}</span></label>
												<div class="col-sm-4">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[debugging_mode]" value="0" id="input-debugging_mode-disabled"{{ not novaposhta['debugging_mode'] ? ' checked' }}><label class="col-sm-4" for="input-debugging_mode-enabled">{{ text_disabled }}</label>
														<input type="radio" name="shipping_novaposhta[debugging_mode]" value="1" id="input-debugging_mode-enabled"{{ novaposhta['debugging_mode'] ? ' checked' }}><label class="col-sm-4" for="input-debugging_mode-disabled">{{ text_enabled }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-sort_order"><span data-toggle="tooltip" title="{{ help_sort_order }}">{{ entry_sort_order }}</span></label>
												<div class="col-sm-10">
													<input type="text" name="shipping_novaposhta_sort_order" value="{{ novaposhta_sort_order }}" placeholder="{{ entry_sort_order }}" id="input-sort_order" class="form-control" />
												</div>
											</div>
											<div class="form-group required">
												<label class="col-sm-2 control-label" for="input-key_api"><span data-toggle="tooltip" title="{{ help_key_api }}">{{ entry_key_api }}</span></label>
												<div class="col-sm-10">
													<input type="text" name="shipping_novaposhta[key_api]" value="{{ novaposhta['key_api'] }}" placeholder="{{ entry_key_api }}" id="input-key_api" class="form-control" />
                                                    {% if error_key_api %}
														<div class="text-danger">{{ error_key_api }}</div>
                                                    {% endif %}
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="button-tariffs"><span data-toggle="tooltip" title="{{ help_tariffs }}">{{ entry_tariffs }}</span></label>
												<div class="col-sm-1">
													<a class="btn btn-primary btn-block" data-toggle="tooltip" title="{{ button_tariffs }}" id="button-tariffs" role="button"><i class="fa fa-calculator"></i></a>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-image"><span data-toggle="tooltip" title="{{ help_image }}">{{ entry_image }}</span></label>
												<div class="col-sm-4">
													<a href="" id="thumb-image" data-toggle="image" class="img-thumbnail"><img src="{{ thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
													<input type="hidden" name="shipping_novaposhta[image]" value="{{ novaposhta['image'] }}" id="input-image" />
												</div>
												<label class="col-sm-2 control-label" for="input-image_output_place"><span data-toggle="tooltip" title="{{ help_image_output_place }}">{{ entry_image_output_place }}</span></label>
												<div class="col-sm-4">
													<select name="shipping_novaposhta[image_output_place]" id="input-image_output_place" class="form-control">
														<option value="0">{{ text_select }}</option>
														{% for code, name in image_output_places %}
															<option value="{{ code }}"{{ code == novaposhta['image_output_place'] ? ' selected="selected"' }}>{{ name }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
										</div>
										<div class="tab-pane fade" id="tab-warehouse">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_status-enabled"><span data-toggle="tooltip" title="{{ help_method_status }}">{{ entry_method_status }}</span></label>
												<div class="col-sm-4">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][status]" value="0" id="input-warehouse_status-disabled"{{ not novaposhta['shipping_methods']['warehouse']['status'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_status-enabled">{{ text_disabled }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][status]" value="1" id="input-warehouse_status-enabled"{{ novaposhta['shipping_methods']['warehouse']['status'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_status-disabled">{{ text_enabled }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_name"><span data-toggle="tooltip" title="{{ help_name }}">{{ entry_name }}</span></label>
												<div class="col-sm-10">
													<ul class="nav nav-tabs" role="tablist">
														{% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#warehouse_name_{{ language.language_id }}" aria-controls="warehouse_name_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
														{% endfor %}
													 </ul>
													<div class="tab-content">
														{% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="warehouse_name_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][warehouse][name][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['warehouse']['name'][language.language_id] }}" placeholder="{{ entry_name }}" id="input-warehouse_name_{{ language.language_id }}" class="form-control" />
															</div>
														{% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_geo_zone_id"><span data-toggle="tooltip" title="{{ help_geo_zone }}">{{ entry_geo_zone }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][warehouse][geo_zone_id]" id="input-warehouse_geo_zone_id" class="form-control">
														<option value="0">{{ text_all_zones }}</option>
                                                        {% for geo_zone in geo_zones %}
															<option value="{{ geo_zone.geo_zone_id }}"{{ geo_zone.geo_zone_id == novaposhta['shipping_methods']['warehouse']['geo_zone_id'] ? ' selected="selected"' }}>{{ geo_zone.name }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_tax_class_id"><span data-toggle="tooltip" title="{{ help_tax_class }}">{{ entry_tax_class }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][warehouse][tax_class_id]" id="input-warehouse_tax_class_id" class="form-control">
														<option value="0">{{ text_none }}</option>
                                                        {% for tax_class in tax_classes %}
															<option value="{{ tax_class.tax_class_id }}"{{ tax_class.tax_class_id == novaposhta['shipping_methods']['warehouse']['tax_class_id'] ? ' selected="selected"' }}>{{ tax_class.title }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_minimum_order_amount"><span data-toggle="tooltip" title="{{ help_minimum_order_amount }}">{{ entry_minimum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][warehouse][minimum_order_amount]" value="{{ novaposhta['shipping_methods']['warehouse']['minimum_order_amount'] }}" placeholder="{{ entry_minimum_order_amount }}" id="input-warehouse_minimum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-warehouse_maximum_order_amount"><span data-toggle="tooltip" title="{{ help_maximum_order_amount }}">{{ entry_maximum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][warehouse][maximum_order_amount]" value="{{ novaposhta['shipping_methods']['warehouse']['maximum_order_amount'] }}" placeholder="{{ entry_maximum_order_amount }}" id="input-warehouse_maximum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_free_shipping"><span data-toggle="tooltip" title="{{ help_free_shipping }}">{{ entry_free_shipping }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][warehouse][free_shipping]" value="{{ novaposhta['shipping_methods']['warehouse']['free_shipping'] }}" placeholder="{{ entry_free_shipping }}" id="input-warehouse_free_shipping" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-warehouse_free_cost_text"><span data-toggle="tooltip" title="{{ help_free_cost_text }}">{{ entry_free_cost_text }}</span></label>
												<div class="col-sm-4">
													<ul class="nav nav-tabs" role="tablist">
                                                        {% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#warehouse_free_cost_text_{{ language.language_id }}" aria-controls="warehouse_free_cost_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
														{% endfor %}
													</ul>
													<div class="tab-content">
														{% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="warehouse_free_cost_text_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][warehouse][free_cost_text][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['warehouse']['free_cost_text'][language.language_id] }}" placeholder="{{ entry_free_cost_text }}" id="input-warehouse_free_cost_text_{{ language.language_id }}" class="form-control" />
															</div>
                                                        {% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_cost-enabled"><span data-toggle="tooltip" title="{{ help_cost }}">{{ entry_cost }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][cost]" value="0" id="input-warehouse_cost-disabled"{{ not novaposhta['shipping_methods']['warehouse']['cost'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_cost-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][cost]" value="1" id="input-warehouse_cost-enabled"{{ novaposhta['shipping_methods']['warehouse']['cost'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_cost-disabled">{{ text_yes }}</label>

													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-warehouse_api_calculation-enabled"><span data-toggle="tooltip" title="{{ help_api_calculation }}">{{ entry_api_calculation }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][api_calculation]" value="0" id="input-warehouse_api_calculation-disabled"{{ not novaposhta['shipping_methods']['warehouse']['api_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_api_calculation-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][api_calculation]" value="1" id="input-warehouse_api_calculation-enabled"{{ novaposhta['shipping_methods']['warehouse']['api_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_api_calculation-disabled">{{ text_yes }}</label>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-warehouse_tariff_calculation-enabled"><span data-toggle="tooltip" title="{{ help_tariff_calculation }}">{{ entry_tariff_calculation }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][tariff_calculation]" value="0" id="input-warehouse_tariff_calculation-disabled"{{ not novaposhta['shipping_methods']['warehouse']['tariff_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_tariff_calculation-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][tariff_calculation]" value="1" id="input-warehouse_tariff_calculation-enabled"{{ novaposhta['shipping_methods']['warehouse']['tariff_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_tariff_calculation-disabled">{{ text_yes }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_deliver_period-enabled"><span data-toggle="tooltip" title="{{ help_delivery_period }}">{{ entry_delivery_period }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][delivery_period]" value="0" id="input-warehouse_deliver_period-disabled"{{ not novaposhta['shipping_methods']['warehouse']['delivery_period'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_deliver_period-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][delivery_period]" value="1" id="input-warehouse_deliver_period-enabled"{{ novaposhta['shipping_methods']['warehouse']['delivery_period'] ? ' checked' }}><label class="col-sm-4" for="input-warehouse_deliver_period-disabled">{{ text_yes }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouses_filter_weight-enabled"><span data-toggle="tooltip" title="{{ help_warehouses_filter_weight }}">{{ entry_warehouses_filter_weight }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][warehouses_filter_weight]" value="0" id="input-warehouses_filter_weight-disabled"{{ not novaposhta['shipping_methods']['warehouse']['warehouses_filter_weight'] ? ' checked' }}><label class="col-sm-4" for="input-warehouses_filter_weight-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][warehouse][warehouses_filter_weight]" value="1" id="input-warehouses_filter_weight-enabled"{{ novaposhta['shipping_methods']['warehouse']['warehouses_filter_weight'] ? ' checked' }}><label class="col-sm-4" for="input-warehouses_filter_weight-disabled">{{ text_yes }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-warehouse_types"><span data-toggle="tooltip" title="{{ help_warehouse_types }}">{{ entry_warehouse_types }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][warehouse][warehouse_types][]" id="input-warehouse_types" class="selectpicker form-control" data-icon-base="fa" data-tick-icon="fa-check" title="" multiple>
														{% for warehouse_type in warehouse_types %}
															<option value="{{ warehouse_type.Ref }}"{{ warehouse_type.Ref in novaposhta['shipping_methods']['warehouse']['warehouse_types'] ? ' selected="selected"' }}>{{ warehouse_type.Description }}</option>
														{% endfor %}
													</select>
												</div>
											</div>
										</div>
										<div class="tab-pane" id="tab-doors">
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_status-enabled"><span data-toggle="tooltip" title="{{ help_method_status }}">{{ entry_method_status }}</span></label>
												<div class="col-sm-4">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][status]" value="0" id="input-doors_status-disabled"{{ not novaposhta['shipping_methods']['doors']['status'] ? ' checked' }}><label class="col-sm-4" for="input-doors_status-enabled">{{ text_disabled }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][status]" value="1" id="input-doors_status-enabled"{{ novaposhta['shipping_methods']['doors']['status'] ? ' checked' }}><label class="col-sm-4" for="input-doors_status-disabled">{{ text_enabled }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_name"><span data-toggle="tooltip" title="{{ help_name }}">{{ entry_name }}</span></label>
												<div class="col-sm-10">
													<ul class="nav nav-tabs" role="tablist">
                                                        {% for language in languages %}
															<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#doors_name_{{ language.language_id }}" aria-controls="doors_name_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                        {% endfor %}
													 </ul>
													<div class="tab-content">
                                                        {% for language in languages %}
															<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="doors_name_{{ language.language_id }}">
																<input type="text" name="shipping_novaposhta[shipping_methods][doors][name][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['doors']['name'][language.language_id] }}" placeholder="{{ entry_name }}" id="input-doors_name_{{ language.language_id }}" class="form-control" />
															</div>
                                                        {% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_geo_zone_id"><span data-toggle="tooltip" title="{{ help_geo_zone }}">{{ entry_geo_zone }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][doors][geo_zone_id]" id="input-doors_geo_zone_id" class="form-control">
														<option value="0">{{ text_all_zones }}</option>
                                                        {% for geo_zone in geo_zones %}
															<option value="{{ geo_zone.geo_zone_id }}"{{ geo_zone.geo_zone_id == novaposhta['shipping_methods']['doors']['geo_zone_id'] ? ' selected="selected"' }}>{{ geo_zone.name }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_tax_class_id"><span data-toggle="tooltip" title="{{ help_tax_class }}">{{ entry_tax_class }}</span></label>
												<div class="col-sm-10">
													<select name="shipping_novaposhta[shipping_methods][doors][tax_class_id]" id="input-doors_tax_class_id" class="form-control">
														<option value="0">{{ text_none }}</option>
                                                        {% for tax_class in tax_classes %}
															<option value="{{ tax_class.tax_class_id }}"{{ tax_class.tax_class_id == novaposhta['shipping_methods']['doors']['tax_class_id'] ? ' selected="selected"' }}>{{ tax_class.title }}</option>
                                                        {% endfor %}
													</select>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_minimum_order_amount"><span data-toggle="tooltip" title="{{ help_minimum_order_amount }}">{{ entry_minimum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][doors][minimum_order_amount]" value="{{ novaposhta['shipping_methods']['doors']['minimum_order_amount'] }}" placeholder="{{ entry_minimum_order_amount }}" id="input-doors_minimum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_maximum_order_amount"><span data-toggle="tooltip" title="{{ help_maximum_order_amount }}">{{ entry_maximum_order_amount }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][doors][maximum_order_amount]" value="{{ novaposhta['shipping_methods']['doors']['maximum_order_amount'] }}" placeholder="{{ entry_maximum_order_amount }}" id="input-doors_maximum_order_amount" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_free_shipping"><span data-toggle="tooltip" title="{{ help_free_shipping }}">{{ entry_free_shipping }}</span></label>
												<div class="col-sm-4">
													<div class="input-group">
														<input type="text" name="shipping_novaposhta[shipping_methods][doors][free_shipping]" value="{{ novaposhta['shipping_methods']['doors']['free_shipping'] }}" placeholder="{{ entry_free_shipping }}" id="input-doors_free_shipping" class="form-control" />
														<span class="input-group-addon">{{ text_grn }}</span>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_free_cost_text"><span data-toggle="tooltip" title="{{ help_free_cost_text }}">{{ entry_free_cost_text }}</span></label>
												<div class="col-sm-4">
													<ul class="nav nav-tabs" role="tablist">
                                                        {% for language in languages %}
														<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#doors_free_cost_text_{{ language.language_id }}" aria-controls="doors_free_cost_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                        {% endfor %}
													</ul>
													<div class="tab-content">
                                                        {% for language in languages %}
														<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="doors_free_cost_text_{{ language.language_id }}">
															<input type="text" name="shipping_novaposhta[shipping_methods][doors][free_cost_text][{{ language.language_id }}]" value="{{ novaposhta['shipping_methods']['doors']['free_cost_text'][language.language_id] }}" placeholder="{{ entry_free_cost_text }}" id="input-doors_free_cost_text_{{ language.language_id }}" class="form-control" />
														</div>
                                                        {% endfor %}
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_cost-enabled"><span data-toggle="tooltip" title="{{ help_cost }}">{{ entry_cost }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][cost]" value="0" id="input-doors_cost-disabled"{{ not novaposhta['shipping_methods']['doors']['cost'] ? ' checked' }}><label class="col-sm-4" for="input-doors_cost-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][cost]" value="1" id="input-doors_cost-enabled"{{ novaposhta['shipping_methods']['doors']['cost'] ? ' checked' }}><label class="col-sm-4" for="input-doors_cost-disabled">{{ text_yes }}</label>

													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_api_calculation-enabled"><span data-toggle="tooltip" title="{{ help_api_calculation }}">{{ entry_api_calculation }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][api_calculation]" value="0" id="input-doors_api_calculation-disabled"{{ not novaposhta['shipping_methods']['doors']['api_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-doors_api_calculation-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][api_calculation]" value="1" id="input-doors_api_calculation-enabled"{{ novaposhta['shipping_methods']['doors']['api_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-doors_api_calculation-disabled">{{ text_yes }}</label>
													</div>
												</div>
												<label class="col-sm-2 control-label" for="input-doors_tariff_calculation-enabled"><span data-toggle="tooltip" title="{{ help_tariff_calculation }}">{{ entry_tariff_calculation }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][tariff_calculation]" value="0" id="input-doors_tariff_calculation-disabled"{{ not novaposhta['shipping_methods']['doors']['tariff_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-doors_tariff_calculation-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][tariff_calculation]" value="1" id="input-doors_tariff_calculation-enabled"{{ novaposhta['shipping_methods']['doors']['tariff_calculation'] ? ' checked' }}><label class="col-sm-4" for="input-doors_tariff_calculation-disabled">{{ text_yes }}</label>
													</div>
												</div>
											</div>
											<div class="form-group">
												<label class="col-sm-2 control-label" for="input-doors_deliver_period-enabled"><span data-toggle="tooltip" title="{{ help_delivery_period }}">{{ entry_delivery_period }}</span></label>
												<div class="col-sm-2">
													<div class="radio-switch">
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][delivery_period]" value="0" id="input-doors_deliver_period-disabled"{{ not novaposhta['shipping_methods']['doors']['delivery_period'] ? ' checked' }}><label class="col-sm-4" for="input-doors_deliver_period-enabled">{{ text_no }}</label>
														<input type="radio" name="shipping_novaposhta[shipping_methods][doors][delivery_period]" value="1" id="input-doors_deliver_period-enabled"{{ novaposhta['shipping_methods']['doors']['delivery_period'] ? ' checked' }}><label class="col-sm-4" for="input-doors_deliver_period-disabled">{{ text_yes }}</label>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-database">
								<div class="table-responsive">
									<table class="table table-bordered table-hover">
										<thead>
											<tr>
												<td class="text-center">{{ column_type }}</td>
												<td class="text-center">{{ column_date }}</td>
												<td class="text-center">{{ column_amount }}</td>
												<td class="text-center">{{ column_description }}</td>
												<td class="text-center">{{ column_action }}</td>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td class="text-left">{{ entry_area }}</td>
												<td class="text-center">{{ database['areas']['update_datetime'] }}</td>
												<td class="text-center" id="td-areas_amount">{{ database['areas']['amount'] }}</td>
												<td class="text-left">{{ help_update_areas }}</td>
												<td class="text-center">
													<a onclick="update('areas');" id="button-update_areas" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ text_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_city }}</td>
												<td class="text-center">{{ database['cities']['update_datetime'] }}</td>
												<td class="text-center" id="td-cities_amount">{{ database['cities']['amount'] }}</td>
												<td class="text-left">{{ help_update_cities }}</td>
												<td class="text-center">
													<a onclick="update('cities');" id="button-update_cities" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ text_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_warehouse }}</td>
												<td class="text-center">{{ database['warehouses']['update_datetime'] }}</td>
												<td class="text-center" id="td-warehouses_amount">{{ database['warehouses']['amount'] }}</td>
												<td class="text-left">{{ help_update_warehouses }}</td>
												<td class="text-center">
													<a onclick="update('warehouses');" id="button-update_warehouses" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ text_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
											<tr>
												<td class="text-left">{{ entry_references }}</td>
												<td class="text-center">{{ database['references']['update_datetime'] }}</td>
												<td class="text-center" id="td-references_amount">{{ database['references']['amount'] }}</td>
												<td class="text-left">{{ help_update_references }}</td>
												<td class="text-center">
													<a onclick="update('references');" id="button-update_references" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="{{ text_update }}"><i class="fa fa-refresh"></i></a>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-sender">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender"><span data-toggle="tooltip" title="{{ help_sender }}">{{ entry_sender }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender]" id="input-sender" class="form-control">
											<option value="">{{ text_select }}</option>
                                            {% for v in senders %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['sender'] ? ' selected="selected"' }}>{{ v.Description }}{{ v.CityDescription ? ', ' ~ v.CityDescription }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_contact_person"><span data-toggle="tooltip" title="{{ help_sender_contact_person }}">{{ entry_contact_person }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[sender_contact_person]" id="input-sender_contact_person" class="form-control">
											<option value="">{{ text_select }}</option>
                                            {% for v in sender_contact_persons %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['sender_contact_person'] ? ' selected="selected"' }}>{{ v.Description ~ ', ' ~ v.Phones }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_city_name"><span data-toggle="tooltip" title="{{ help_sender_city }}">{{ entry_city }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[sender_city_name]" value="{{ novaposhta['sender_city_name'] }}" placeholder="{{ text_select }}" id="input-sender_city_name" class="form-control" />
										<input type="hidden" name="shipping_novaposhta[sender_city]" value="{{ novaposhta['sender_city'] }}" id="input-sender_city" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-sender_address_name"><span data-toggle="tooltip" title="{{ help_sender_address }}">{{ entry_address }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[sender_address_name]" value="{{ novaposhta['sender_address_name'] }}" placeholder="{{ text_select }}" id="input-sender_address_name" class="form-control" />
										<input type="hidden" name="shipping_novaposhta[sender_address]" value="{{ novaposhta['sender_address'] }}" id="input-sender_address" />
										<input type="hidden" name="shipping_novaposhta[sender_address_type]" value="{{ novaposhta['sender_address_type'] }}" id="input-sender_address_type"/>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-recipient">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_name"><span data-toggle="tooltip" title="{{ help_recipient }}">{{ entry_recipient }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_name]" value="{{ novaposhta['recipient_name'] }}" placeholder="{{ text_select }}" id="input-recipient_name" class="form-control" />
										<input type="hidden" name="shipping_novaposhta[recipient]" value="{{ novaposhta['recipient'] }}" id="input-recipient" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_contact_person"><span data-toggle="tooltip" title="{{ help_recipient_contact_person }}">{{ entry_contact_person }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_contact_person]" value="{{ novaposhta['recipient_contact_person'] }}" placeholder="{{ entry_contact_person }}" id="input-recipient_contact_person" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_contact_person_phone"><span data-toggle="tooltip" title="{{ help_recipient_contact_person_phone }}">{{ entry_phone }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_contact_person_phone]" value="{{ novaposhta['recipient_contact_person_phone'] }}" placeholder="{{ entry_phone }}" id="input-recipient_contact_person_phone" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_area"><span data-toggle="tooltip" title="{{ help_recipient_area }}">{{ entry_area }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_area]" value="{{ novaposhta['recipient_area'] }}" placeholder="{{ entry_area }}" id="input-recipient_area" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_city"><span data-toggle="tooltip" title="{{ help_recipient_city }}">{{ entry_city }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_city]" value="{{ novaposhta['recipient_city'] }}" placeholder="{{ entry_city }}" id="input-recipient_city" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_warehouse"><span data-toggle="tooltip" title="{{ help_recipient_warehouse }}">{{ entry_warehouse }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_warehouse]" value="{{ novaposhta['recipient_warehouse'] }}" placeholder="{{ entry_warehouse }}" id="input-recipient_warehouse" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_address"><span data-toggle="tooltip" title="{{ help_recipient_address }}">{{ entry_address }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_address]" value="{{ novaposhta['recipient_address'] }}" placeholder="{{ entry_address }}" id="input-recipient_address" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_street"><span data-toggle="tooltip" title="{{ help_recipient_street }}">{{ entry_street }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_street]" value="{{ novaposhta['recipient_street'] }}" placeholder="{{ entry_street }}" id="input-recipient_street" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_house"><span data-toggle="tooltip" title="{{ help_recipient_house }}">{{ entry_house }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_house]" value="{{ novaposhta['recipient_house'] }}" placeholder="{{ entry_house }}" id="input-recipient_house" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-recipient_flat"><span data-toggle="tooltip" title="{{ help_recipient_flat }}">{{ entry_flat }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[recipient_flat]" value="{{ novaposhta['recipient_flat'] }}" placeholder="{{ entry_flat }}" id="input-recipient_flat" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-preferred_delivery_date"><span data-toggle="tooltip" title="{{ help_preferred_delivery_date }}">{{ entry_preferred_delivery_date }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[preferred_delivery_date]" value="{{ novaposhta['preferred_delivery_date'] }}" placeholder="{{ entry_preferred_delivery_date }}" id="input-preferred_delivery_date" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-preferred_delivery_time"><span data-toggle="tooltip" title="{{ help_preferred_delivery_time }}">{{ entry_preferred_delivery_time }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[preferred_delivery_time]" value="{{ novaposhta['preferred_delivery_time'] }}" placeholder="{{ entry_preferred_delivery_time }}" id="input-preferred_delivery_time" class="form-control" />
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-departure">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-autodetection_departure_type-enabled"><span data-toggle="tooltip" title="{{ help_autodetection_departure_type }}">{{ entry_autodetection_departure_type }}</span></label>
									<div class="col-sm-2">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[autodetection_departure_type]" value="0" id="input-autodetection_departure_type-disabled"{{ not novaposhta['autodetection_departure_type'] ? ' checked' }}><label class="col-sm-4" for="input-autodetection_departure_type-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[autodetection_departure_type]" value="1" id="input-autodetection_departure_type-enabled"{{ novaposhta['autodetection_departure_type'] ? ' checked' }}><label class="col-sm-4" for="input-autodetection_departure_type-disabled">{{ text_yes }}</label>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-departure_type"><span data-toggle="tooltip" title="{{ help_departure_type }}">{{ entry_departure_type }}</span></label>
									<div class="col-sm-6">
										<select name="shipping_novaposhta[departure_type]" id="input-departure_type" class="form-control">
											{% for v in cargo_types %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['departure_type'] ? ' selected="selected"' }}>{{ v.Description }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-calculate_volume-enabled"><span data-toggle="tooltip" title="{{ help_calculate_volume }}">{{ entry_calculate_volume }}</span></label>
									<div class="col-sm-2">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[calculate_volume]" value="0" id="input-calculate_volume-disabled"{{ not novaposhta['calculate_volume'] ? ' checked' }}><label class="col-sm-4" for="input-calculate_volume-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[calculate_volume]" value="1" id="input-calculate_volume-enabled"{{ novaposhta['calculate_volume'] ? ' checked' }}><label class="col-sm-4" for="input-calculate_volume-disabled">{{ text_yes }}</label>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-calculate_volume_type"><span data-toggle="tooltip" title="{{ help_calculate_volume_type }}">{{ entry_calculate_volume_type }}</span></label>
									<div class="col-sm-6">
										<select name="shipping_novaposhta[calculate_volume_type]" id="input-calculate_volume_type" class="form-control">
                                            {% for k, v in calculate_volume_types %}
												<option value="{{ k }}"{{ k == novaposhta['calculate_volume_type'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-seats_amount"><span data-toggle="tooltip" title="{{ help_seats_amount }}">{{ entry_seats_amount }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[seats_amount]" value="{{ novaposhta['seats_amount'] }}" placeholder="{{ entry_seats_amount }}" id="input-seats_amount" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-announced_price"><span data-toggle="tooltip" title="{{ help_announced_price }}">{{ entry_announced_price }}</span></label>
									<div class="col-sm-4">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
											{% for code, title in totals %}
												<div class="checkbox">
													<label>
														<input type="checkbox" name="shipping_novaposhta[announced_price][]" value="{{ code }}"{{ code in novaposhta['announced_price'] ? ' checked' }} /> {{ title }}
													</label>
												</div>
                                            {% endfor %}
                                            {% for v in novaposhta['announced_price'] if v is iterable %}
												<div class="checkbox">
													<label>
														<input type="checkbox" name="shipping_novaposhta[announced_price][]" value="{{ v.code }}"{{ v.code in novaposhta['announced_price'] ? ' checked' }} /> {{ v.name }}
														<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
													</label>
													<input type="hidden" name="shipping_novaposhta[announced_price][{{ v.code }}][code]" value="{{ v.code }}" />
													<input type="hidden" name="shipping_novaposhta[announced_price][{{ v.code }}][name]" value="{{ v.name }}" />
												</div>
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('announced_price');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
									<label class="col-sm-2 control-label" for="input-announced_price_default"><span data-toggle="tooltip" title="{{ help_announced_price_default }}">{{ entry_announced_price_default }}</span></label>
									<div class="col-sm-4">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[announced_price_default]" value="{{ novaposhta['announced_price_default'] }}" placeholder="{{ entry_announced_price_default }}" id="input-announced_price_default" class="form-control" />
											<span class="input-group-addon">{{ text_grn }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-departure_description"><span data-toggle="tooltip" title="{{ help_departure_description }}">{{ entry_departure_description }}</span></label>
									<div class="col-sm-10">
										<input type="text" name="shipping_novaposhta[departure_description]" value="{{ novaposhta['departure_description'] }}" placeholder="{{ entry_departure_description }}" id="input-departure_description" class="form-control" />
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-departure_additional_information"><span data-toggle="tooltip" title="{{ help_departure_additional_information }}">{{ entry_departure_additional_information }}</span></label>
									<div class="col-sm-10">
										<a class="btn btn-default pull-right" data-toggle="collapse" href="#departure_additional_information_t_m" aria-expanded="false" aria-controls="departure_additional_information_t_m" role="button">{{ text_macros }} <i class="fa fa-angle-down" aria-hidden="true"></i></a>
										<div class="clearfix"></div>
										<div id="departure_additional_information_t_m" class="collapse">
											<div class="panel panel-default">
												<div class="panel-body">
													<div class="col-sm-6">
														{{ text_order_template_macros }}
													</div>
													<div class="col-sm-6">
														{{ text_products_template_macros }}
													</div>
												</div>
											</div>
										</div>
										<textarea name="shipping_novaposhta[departure_additional_information]" rows="3" id="input-departure_additional_information" class="form-control">{{ novaposhta['departure_additional_information'] }}</textarea>
									</div>
								</div>
								<legend>{{ text_default_departure_options }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-use_parameters"><span data-toggle="tooltip" title="{{ help_use_parameters }}">{{ entry_use_parameters }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[use_parameters]" id="input-use_parameters" class="form-control">
                                            {% for k, v in use_parameters %}
												<option value="{{ k }}"{{ k == novaposhta['use_parameters'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-weight"><span data-toggle="tooltip" title="{{ help_weight }}">{{ entry_weight }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[weight]" value="{{ novaposhta['weight'] }}" placeholder="0" id="input-weight" class="form-control" />
											<span class="input-group-addon">{{ text_kg }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-dimensions_w"><span data-toggle="tooltip" title="{{ help_dimensions }}">{{ entry_dimensions }}</span></label>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[dimensions_w]" value="{{ novaposhta['dimensions_w'] }}" placeholder="0" id="input-dimensions_w" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[dimensions_l]" value="{{ novaposhta['dimensions_l'] }}" placeholder="0" id="input-dimensions_l" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[dimensions_h]" value="{{ novaposhta['dimensions_h'] }}" placeholder="0" id="input-dimensions_h" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-allowance_w"><span data-toggle="tooltip" title="{{ help_allowance }}">{{ entry_allowance }}</span></label>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[allowance_w]" value="{{ novaposhta['allowance_w'] }}" placeholder="0" id="input-allowance_w" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-4">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[allowance_l]" value="{{ novaposhta['allowance_l'] }}" placeholder="0" id="input-allowance_l" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
									<div class="col-sm-3">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[allowance_h]" value="{{ novaposhta['allowance_h'] }}" placeholder="0" id="input-allowance_h" class="form-control" />
											<span class="input-group-addon">{{ text_cm }}</span>
										</div>
									</div>
								</div>
								<legend>{{ text_pack }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-pack-enabled"><span data-toggle="tooltip" title="{{ help_pack }}">{{ entry_pack }}</span></label>
									<div class="col-sm-2">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[pack]" value="0" id="input-pack-disabled"{{ not novaposhta['pack'] ? ' checked' }}><label class="col-sm-4" for="input-pack-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[pack]" value="1" id="input-pack-enabled"{{ novaposhta['pack'] ? ' checked' }}><label class="col-sm-4" for="input-pack-disabled">{{ text_yes }}</label>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-pack_type"><span data-toggle="tooltip" title="{{ help_pack_type }}">{{ entry_pack_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[pack_type][]" id="input-pack_type" class="selectpicker form-control" data-icon-base="fa" data-tick-icon="fa-check" title="{{ text_select }}" multiple>
											{% for v in pack_types %}
												<option value="{{ v.Ref }}"{{ v.Ref in novaposhta['pack_type'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-autodetection_pack_type-enabled"><span data-toggle="tooltip" title="{{ help_autodetection_pack_type }}">{{ entry_autodetection_pack_type }}</span></label>
									<div class="col-sm-2">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[autodetection_pack_type]" value="0" id="input-autodetection_pack_type-disabled"{{ not novaposhta['autodetection_pack_type'] ? ' checked' }}><label class="col-sm-4" for="input-autodetection_pack_type-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[autodetection_pack_type]" value="1" id="input-autodetection_pack_type-enabled"{{ novaposhta['autodetection_pack_type'] ? ' checked' }}><label class="col-sm-4" for="input-autodetection_pack_type-disabled">{{ text_yes }}</label>
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-payment">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-payer"><span data-toggle="tooltip" title="{{ help_payer }}">{{ entry_payer }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[payer]" id="input-payer" class="form-control">
											<option value="0">{{ text_select }}</option>
                                            {% for v in payer_types %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['payer'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-third_person"><span data-toggle="tooltip" title="{{ help_third_person }}">{{ entry_third_person }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[third_person]" id="input-third_person" class="form-control">
											<option value="0">{{ text_select }}</option>
                                            {% for v in third_persons %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['third_person'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-payment_type"><span data-toggle="tooltip" title="{{ help_payment_type }}">{{ entry_payment_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[payment_type]" id="input-payment_type" class="form-control">
											<option value="0">{{ text_select }}</option>
                                            {% for v in payment_types %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['payment_type'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-payment_cod"><span data-toggle="tooltip" title="{{ help_payment_cod }}">{{ entry_payment_cod }}</span></label>
									<div class="col-sm-10">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
                                            {% for code, title in payment_methods %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[payment_cod][]" value="{{ code }}"{{ code in novaposhta['payment_cod'] ? ' checked' }} /> {{ title }}
												</label>
											</div>
                                            {% endfor %}
                                            {% for v in novaposhta['payment_cod'] if v is iterable %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[payment_cod][]" value="{{ v.code }}"{{ v.code in novaposhta['payment_cod'] ? ' checked' }} /> {{ v.name }}

													<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
												</label>
												<input type="hidden" name="shipping_novaposhta[payment_cod][{{ v.code }}][code]" value="{{ v.code }}" />
												<input type="hidden" name="shipping_novaposhta[payment_cod][{{ v.code }}][name]" value="{{ v.name }}" />
											</div>
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('payment_cod');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-backward_delivery"><span data-toggle="tooltip" title="{{ help_backward_delivery }}">{{ entry_backward_delivery }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[backward_delivery]" id="input-payment_type" class="form-control">
											<option value="0">{{ text_select }}</option>
											<option value="N"{{ novaposhta['backward_delivery'] == 'N' ? ' selected="selected"' }}>{{ text_no_backward_delivery }}</option>
                                            {% for v in backward_delivery_types %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['backward_delivery'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-backward_delivery_payer"><span data-toggle="tooltip" title="{{ help_backward_delivery_payer }}">{{ entry_backward_delivery_payer }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[backward_delivery_payer]" id="input-backward_delivery_payer" class="form-control">
											<option value="0">{{ text_select }}</option>
                                            {% for v in backward_delivery_payers %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['backward_delivery_payer'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-money_transfer_method"><span data-toggle="tooltip" title="{{ help_money_transfer_method }}">{{ entry_money_transfer_method }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[money_transfer_method]" id="input-money_transfer_method" class="form-control">
											<option value="0">{{ text_select }}</option>
                                            {% for k, v in money_transfer_methods %}
												<option value="{{ k }}"{{ k == novaposhta['money_transfer_method'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-default_payment_card"><span data-toggle="tooltip" title="{{ help_default_payment_card }}">{{ entry_payment_card }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[default_payment_card]" id="input-default_payment_card" class="form-control">
											<option value="">{{ text_select }}</option>
                                            {% for v in payment_cards %}
												<option value="{{ v.Ref }}"{{ v.Ref == novaposhta['default_payment_card'] ? ' selected="selected"' }}>{{ v.Description }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-consignment_note">
								<legend>{{ text_consignment_note_list }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-display_all_consignments-enabled"><span data-toggle="tooltip" title="{{ help_display_all_consignments }}">{{ entry_display_all_consignments }}</span></label>
									<div class="col-sm-2">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[display_all_consignments]" value="0" id="input-display_all_consignments-disabled"{{ not novaposhta['display_all_consignments'] ? ' checked' }}><label class="col-sm-4" for="input-display_all_consignments-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[display_all_consignments]" value="1" id="input-display_all_consignments-enabled"{{ novaposhta['display_all_consignments'] ? ' checked' }}><label class="col-sm-4" for="input-display_all_consignments-disabled">{{ text_yes }}</label>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_displayed_information"><span data-toggle="tooltip" title="{{ help_displayed_information }}">{{ entry_displayed_information }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[consignment_displayed_information][]" id="input-consignment_displayed_information" class="selectpicker form-control" data-icon-base="fa" data-tick-icon="fa-check" title="{{ text_select }}" multiple>
                                            {% for k, v in consignment_displayed_information %}
												<option value="{{ k }}"{{ k in novaposhta['consignment_displayed_information'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<legend>{{ text_print_settings }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-print_format"><span data-toggle="tooltip" title="{{ help_print_format }}">{{ entry_print_format }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[print_format]" id="input-print_format" class="form-control">
                                            {% for k, v in print_formats %}
												<option value="{{ k }}"{{ k == novaposhta['print_format'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-number_of_copies"><span data-toggle="tooltip" title="{{ help_number_of_copies }}">{{ entry_number_of_copies }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[number_of_copies]" id="input-number_of_copies" class="form-control">
                                            {% for i in 1..6 %}
												<option value="{{ i }}"{{ i == novaposhta['number_of_copies'] ? ' selected="selected"' }}>{{ i }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-template_type"><span data-toggle="tooltip" title="{{ help_template_type }}">{{ entry_template_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[template_type]" id="input-template_type" class="form-control">
                                            {% for k, v in template_types %}
												<option value="{{ k }}"{{ k == novaposhta['template_type'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-print_type"><span data-toggle="tooltip" title="{{ help_print_type }}">{{ entry_print_type }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[print_type]" id="input-print_type" class="form-control">
                                            {% for k, v in print_types %}
												<option value="{{ k }}"{{ k == novaposhta['print_type'] ? ' selected="selected"' }}>{{ v }}</option>
                                            {% endfor %}
										</select>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-print_start"><span data-toggle="tooltip" title="{{ help_print_start }}">{{ entry_print_start }}</span></label>
									<div class="col-sm-10">
										<div class="btn-group-vertical" id="div-vertical-1" data-toggle="buttons">
                                            {% for i in 1..8 %}
											<label class="btn btn-default{{ i == novaposhta['print_start'] ? ' active' }}">
												<input type="radio" name="shipping_novaposhta[print_start]" value="{{ i }}" id="input-print_start-{{ i }}" autocomplete="off"{{ i == novaposhta['print_start'] ? ' checked' }}>{{ i }}
											</label>
                                            {% endfor %}
										</div>
										<div class="btn-group-vertical" id="div-vertical-2" data-toggle="buttons">
                                            {% for i in 1..8 %}
												<label class="btn btn-default{{ i == novaposhta['print_start'] ? ' active' }}">
													<input type="radio" name="shipping_novaposhta[print_start]" value="{{ i }}" id="input-print_start-{{ i }}" autocomplete="off"{{ i == novaposhta['print_start'] ? ' checked' }}>{{ i }}
												</label>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<legend>{{ text_integration_with_orders }}</legend>
								<div class="alert alert-info" role="alert">{{ text_help_integration_with_orders }}</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-compatible_shipping_method"><span data-toggle="tooltip" title="{{ help_compatible_shipping_method }}">{{ entry_compatible_shipping_method }}</span></label>
									<div class="col-sm-10">
										<div class="well well-sm" style="height: 150px; overflow: auto;">
                                            {% for k, v in shipping_methods %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[compatible_shipping_method][]" value="{{ k }}"{{ k in novaposhta['compatible_shipping_method'] ? ' checked' }} /> {{ v }}
												</label>
											</div>
                                            {% endfor %}
                                            {% for v in novaposhta['compatible_shipping_method'] if v is iterable %}
											<div class="checkbox">
												<label>
													<input type="checkbox" name="shipping_novaposhta[compatible_shipping_method][]" value="{{ v.code }}"{{ v.code in novaposhta['compatible_shipping_method'] ? ' checked' }} /> {{ v.name }}
													<button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents('div.checkbox').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button>
												</label>
												<input type="hidden" name="shipping_novaposhta[compatible_shipping_method][{{ v.code }}][code]" value="{{ v.code }}" />
												<input type="hidden" name="shipping_novaposhta[compatible_shipping_method][{{ v.code }}][name]" value="{{ v.name }}" />
											</div>
                                            {% endfor %}
											<br/>
											<button type="button" class="btn btn-primary btn-sm" data-toggle="tooltip" title="{{ button_add }}" onclick="addCustomMethod('compatible_shipping_method');"><i class="fa fa-plus-circle" aria-hidden="true"></i></button>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_create-enabled"><span data-toggle="tooltip" title="{{ help_consignment_create }}">{{ entry_consignment_create }}</span></label>
									<div class="col-sm-1">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[consignment_create]" value="0" id="input-consignment_create-disabled"{{ not novaposhta['consignment_create'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_create-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[consignment_create]" value="1" id="input-consignment_create-enabled"{{ novaposhta['consignment_create'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_create-disabled">{{ text_yes }}</label>
										</div>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_create_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_create_text_{{ language.language_id }}" aria-controls="consignment_create_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_create_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_create_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_create_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_edit-enabled"><span data-toggle="tooltip" title="{{ help_consignment_edit }}">{{ entry_consignment_edit }}</span></label>
									<div class="col-sm-1">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[consignment_edit]" value="0" id="input-consignment_edit-disabled"{{ not novaposhta['consignment_edit'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_edit-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[consignment_edit]" value="1" id="input-consignment_edit-enabled"{{ novaposhta['consignment_edit'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_edit-disabled">{{ text_yes }}</label>
										</div>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_edit_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_edit_text_{{ language.language_id }}" aria-controls="consignment_edit_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_edit_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_edit_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_edit_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_delete-enabled"><span data-toggle="tooltip" title="{{ help_consignment_delete }}">{{ entry_consignment_delete }}</span></label>
									<div class="col-sm-1">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[consignment_delete]" value="0" id="input-consignment_delete-disabled"{{ not novaposhta['consignment_delete'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_delete-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[consignment_delete]" value="1" id="input-consignment_delete-enabled"{{ novaposhta['consignment_delete'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_delete-disabled">{{ text_yes }}</label>
										</div>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_delete_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_delete_text_{{ language.language_id }}" aria-controls="consignment_delete_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_delete_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_delete_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_delete_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-consignment_assignment_to_order-enabled"><span data-toggle="tooltip" title="{{ help_consignment_assignment_to_order }}">{{ entry_consignment_assignment_to_order }}</span></label>
									<div class="col-sm-1">
										<div class="radio-switch">
											<input type="radio" name="shipping_novaposhta[consignment_assignment_to_order]" value="0" id="input-consignment_assignment_to_order-disabled"{{ not novaposhta['consignment_assignment_to_order'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_assignment_to_order-enabled">{{ text_no }}</label>
											<input type="radio" name="shipping_novaposhta[consignment_assignment_to_order]" value="1" id="input-consignment_assignment_to_order-enabled"{{ novaposhta['consignment_assignment_to_order'] ? ' checked' }}><label class="col-sm-4" for="input-consignment_assignment_to_order-disabled">{{ text_yes }}</label>
										</div>
									</div>
									<label class="col-sm-1 control-label" for="input-consignment_assignment_to_order_text">{{ entry_menu_text }}</label>
									<div class="col-sm-8">
										<ul class="nav nav-tabs" role="tablist">
                                            {% for language in languages %}
											<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#consignment_assignment_to_order_text_{{ language.language_id }}" aria-controls="consignment_assignment_to_order_text_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                            {% endfor %}
										</ul>
										<div class="tab-content">
                                            {% for language in languages %}
											<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="consignment_assignment_to_order_text_{{ language.language_id }}">
												<input type="text" name="shipping_novaposhta[consignment_assignment_to_order_text][{{ language.language_id }}]" value="{{ novaposhta['consignment_assignment_to_order_text'][language.language_id] }}" placeholder="{{ entry_menu_text }}" class="form-control" />
											</div>
                                            {% endfor %}
										</div>
									</div>
								</div>
							</div>
							<div class="tab-pane fade" id="tab-cron">
								<div class="alert alert-info" role="alert">{{ text_help_cron }}</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-key_cron"><span data-toggle="tooltip" title="{{ help_key_cron }}">{{ entry_key_cron }}</span></label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" name="shipping_novaposhta[key_cron]" value="{{ novaposhta['key_cron'] }}" placeholder="{{ entry_key_cron }}" id="input-key_cron" class="form-control" />
											<span class="input-group-btn">
												<button id="button-generate-cron-key" onclick="generateKey();" type="button" class="btn btn-info" data-toggle="tooltip" title="{{ button_generate }}"><i class="fa fa-cog"></i></button>
											</span>
										</div>
									</div>
								</div>
								<legend>{{ text_base_update }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_areas">{{ entry_area }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_areas }}"  id="input-cron_update_areas" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_areas');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_cities">{{ entry_city }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_cities }}"  id="input-cron_update_cities" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_cities');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_warehouses">{{ entry_warehouse }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_warehouses }}"  id="input-cron_update_warehouses" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_warehouses');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_update_references">{{ entry_references }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_update_references }}"  id="input-cron_update_references" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_update_references');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
											</span>
										</div>
									</div>
								</div>
								<legend>{{ text_departures_tracking }}</legend>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-cron_departures_tracking">{{ entry_departures_tracking }}</label>
									<div class="col-sm-10">
										<div class="input-group">
											<input type="text" value="{{ cron_departures_tracking }}"  id="input-cron_departures_tracking" class="form-control" readonly />
											<span class="input-group-btn">
												<button class="btn btn-default" type="button" data-toggle="tooltip" title="{{ button_copy }}" onclick="copyToClipboard('input-cron_departures_tracking');"><i class="fa fa-files-o" aria-hidden="true"></i></button>
												<a href="{{ cron_departures_tracking_href }}" class="btn btn-default" role="button" data-toggle="tooltip" title="{{ button_run }}" target="_blank"><i class="fa fa-terminal" aria-hidden="true"></i></a>
											</span>
										</div>
									</div>
								</div>
								<div class="form-group">
									<label class="col-sm-2 control-label" for="input-tracking_statuses"><span data-toggle="tooltip" title="{{ help_tracking_statuses }}">{{ entry_tracking_statuses }}</span></label>
									<div class="col-sm-10">
										<select name="shipping_novaposhta[tracking_statuses][]" id="input-tracking_statuses" class="selectpicker form-control" data-icon-base="fa" data-tick-icon="fa-check" title="{{ text_select }}" multiple>
											{%  for order_status in order_statuses %}
												<option value="{{ order_status.order_status_id }}"{{ order_status.order_status_id in novaposhta['tracking_statuses'] ? ' selected="selected"' }}>{{ order_status.name }}</option>
											{% endfor %}
										</select>
									</div>
								</div>
								<a class="btn btn-default pull-right" data-toggle="collapse" href="#message-macros-collapse" aria-expanded="false" aria-controls="message-macros-collapse" role="button">{{ text_message_template_macros }} <i class="fa fa-angle-down" aria-hidden="true"></i></a>
								<div class="clearfix"></div>
								<div id="message-macros-collapse" class="collapse">
									<div class="panel panel-default">
										<div class="panel-body">
											<div class="col-sm-4">
												{{ text_cn_template_macros }}
											</div>
											<div class="col-sm-4">
												{{ text_order_template_macros }}
											</div>
											<div class="col-sm-4">
												{{ text_products_template_macros }}
											</div>
										</div>
									</div>
								</div>
								<div class="panel panel-default">
									<div class="panel-heading">
										<h3 class="panel-title">{{ text_settings_departures_statuses }}</h3>
									</div>
									<div class="table-responsive">
										<table class="table table-bordered table-hover" id="table-tracking_statuses">
											<thead>
												<tr>
													<td class="text-center" width="15%">{{ column_novaposhta_status }}</td>
													<td class="text-center">{{ column_store_status }}</td>
													<td class="text-center">{{ column_implementation_delay }}</td>
													<td class="text-center">{{ column_notification }}</td>
													<td class="text-center" width="40%">{{ column_message_template }}</td>
													<td class="text-center">{{ column_action }}</td>
												</tr>
											</thead>
											<tbody>
											{% for i, settings in novaposhta['settings_tracking_statuses'] %}
												<tr>
													<td>
														<select name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][novaposhta_status]" class="form-control">
                                                            {% for document_status in document_statuses %}
																<option value="{{ document_status.StatusId }}"{{ document_status.StatusId == settings.novaposhta_status ? ' selected="selected"' }}>{{ document_status.Description }}</option>
															{% endfor %}
														</select>
													</td>
													<td>
														<select name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][store_status]" class="form-control">
                                                            {% for order_status in order_statuses %}
																<option value="{{ order_status.order_status_id }}"{{ order_status.order_status_id == settings.store_status ? ' selected="selected"' }}>{{ order_status.name }}</option>
                                                            {% endfor %}
														</select>
													</td>
													<td>
														<div class="input-group">
															<span class="input-group-btn" style="width: 50%;">
																<select name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][implementation_delay][type]" class="form-control">
																	{% for k, v in time %}
																		<option value="{{ k }}"{{ k == settings.implementation_delay.type ? ' selected="selected"' }}>{{ v }}</option>
                                                                    {% endfor %}
																</select>
															</span><input type="text" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][implementation_delay][value]" value="{{ novaposhta['settings_tracking_statuses'][i]['implementation_delay']['value'] }}" class="form-control" />
														</div>
													</td>
													<td>
														<div class="form-group">
															<label class="col-sm-10 control-label">{{ entry_admin_notification }}</label>
															<div class="col-sm-2">
																<input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][admin_notification]"{{ settings.admin_notification ? ' checked' }}>
															</div>
														</div>
														<div class="form-group">
															<label class="col-sm-10 control-label">{{ entry_customer_notification }}</label>
															<div class="col-sm-2">
																<input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][customer_notification]"{{ settings.customer_notification ? ' checked' }}>
															</div>
														</div>
														<div class="form-group">
															<label class="col-sm-10 control-label">{{ entry_customer_notification_default }}</label>
															<div class="col-sm-2">
																<input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][{{ loop.index0 }}][customer_notification_default]"{{ settings.customer_notification_default ? ' checked' }}>
															</div>
														</div>
													</td>
													<td>
														<div class="form-group">
															<label class="col-sm-2 control-label">{{ entry_email }}</label>
															<div class="col-sm-10">
																<ul class="nav nav-tabs" role="tablist">
                                                                    {% for language in languages %}
																	<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_email_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" aria-controls="tracking_statuses_email_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                                    {% endfor %}
																</ul>
																<div class="tab-content">
                                                                    {% for language in languages %}
																	<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_email_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}">
																		<textarea name="shipping_novaposhta[settings_tracking_statuses][{{ loop.parent.loop.index0 }}][email][{{ language.language_id }}]" placeholder="{{ entry_email }}"class="form-control summernote">{{ novaposhta['settings_tracking_statuses'][i]['email'][language.language_id] }}</textarea>
																	</div>
                                                                    {% endfor %}
																</div>
															</div>
														</div>
														<div class="form-group">
															<label class="col-sm-2 control-label">{{ entry_sms }}</label>
															<div class="col-sm-10">
																<ul class="nav nav-tabs" role="tablist">
                                                                    {% for language in languages %}
																	<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_sms_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" aria-controls="tracking_statuses_sms_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>
                                                                    {% endfor %}
																</ul>
																<div class="tab-content">
																	{% for language in languages %}
																	<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_sms_{{ loop.parent.loop.index0 ~ '_' ~ language.language_id }}">
																		<textarea name="shipping_novaposhta[settings_tracking_statuses][{{ loop.parent.loop.index0 }}][sms][{{ language.language_id }}]" placeholder="{{ entry_sms }}"class="form-control">{{ novaposhta['settings_tracking_statuses'][i]['sms'][language.language_id] }}</textarea>
																	</div>
                                                                    {% endfor %}
																</div>
															</div>
														</div>
													</td>
													<td class="text-center"><button type="button" onclick="$(this).parents('tr').remove()" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
												</tr>
                                            {% endfor %}
											</tbody>
											<tfoot>
												<tr>
													<td colspan="5"></td>
													<td class="text-center"><button type="button" onclick="addTrackingStatus();" data-toggle="modal" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button></td>
												</tr>
											</tfoot>
										</table>
									</div>
								</div>
							</div>
                        {% endif %}
							<div class="tab-pane fade{{ not license ? ' in active' }}" id="tab-support">
								{{ support }}
							</div>
						</div>
          			
          			<!-- START Modal of API key applying -->
					<div class="modal fade" id="modal-API-key-applying" tabindex="-1" role="dialog" aria-labelledby="modal-API-key-applying-label">
						  <div class="modal-dialog" role="document">
						    <div class="modal-content">
						      	<div class="modal-header">
						        	<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						        	<h4 class="modal-title" id="modal-API-key-applying-label">{{ heading_applying_api_key }}</h4>
						      	</div>
							    <div class="modal-body">
				          			<div class="well" id="API-key-applying-log"></div>
				          			<p class="text-center"><i class="fa fa-cog fa-spin fa-3x text-primary" id="API-key-applying-icon"></i></p>
							    </div>
							    <div class="modal-footer">
									<button type="button" class="btn btn-primary" data-dismiss="modal"><i class="fa fa-check"></i></button>
							    </div>
						    </div>
						</div>
					</div>         
				    <!-- END Modal of API key -->
				    
				    <!-- START Modal of tariffs -->
					<div class="modal fade" id="modal-edit-tariffs" tabindex="-1" role="dialog" aria-labelledby="modal-edit-tariffs-label">
						  <div class="modal-dialog modal-lg" role="document">
						    <div class="modal-content">
						      	<div class="modal-header">
						        	<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						        	<h4 class="modal-title" id="modal-edit-tariffs-label">{{ heading_tariff }}</h4>
						      	</div>
							    <div class="modal-body">
							      	<div class="form-group">
				            			<label class="col-sm-3 control-label" for="input-tariffs-discount"><span data-toggle="tooltip" title="{{ help_discount }}">{{ entry_discount }}</span></label>
				            			<div class="col-sm-9">
					            			<div class="input-group">
				              					<input type="text" name="shipping_novaposhta[tariffs][discount]" value="{{ novaposhta['tariffs']['discount'] }}" placeholder="{{ entry_discount }}" id="input-tariffs-discount" class="form-control" />
				              					<span class="input-group-addon">{{ text_pct }}</span>
				              				</div>
			              				</div>
				          			</div>
				          			<div class="form-group">
				            			<label class="col-sm-3 control-label" for="input-tariffs-additional_commission"><span data-toggle="tooltip" title="{{ help_additional_commission }}">{{ entry_additional_commission }}</span></label>
				            			<div class="col-sm-3">
					            			<div class="input-group">
				              					<input type="text" name="shipping_novaposhta[tariffs][additional_commission]" value="{{ novaposhta['tariffs']['additional_commission'] }}" placeholder="{{ entry_additional_commission }}" id="input-tariffs-additional_commission" class="form-control" />
				              					<span class="input-group-addon">{{ text_pct }}</span>
				              				</div>
			              				</div>
			              				<label class="col-sm-3 control-label" for="input-tariffs-additional_commission_bottom"><span data-toggle="tooltip" title="{{ help_additional_commission_bottom }}">{{ entry_additional_commission_bottom }}</span></label>
				            			<div class="col-sm-3">
					            			<div class="input-group">
				              					<input type="text" name="shipping_novaposhta[tariffs][additional_commission_bottom]" value="{{ novaposhta['tariffs']['additional_commission_bottom'] }}" placeholder="{{ entry_additional_commission_bottom }}" id="input-tariffs-additional_commission_bottom" class="form-control" />
				              					<span class="input-group-addon">{{ text_grn }}</span>
				              				</div>
			              				</div>
				          			</div>
				          			<legend>{{ text_document_and_parcel_tariffs }}</legend>
									<div class="table-responsive">
					            		<table class="table table-bordered table-hover" id="table-tariffs">
					              			<thead>
					                			<tr>
					                  				<td class="text-center" rowspan="2">{{ column_weight }}</td>
					                  				<td class="text-center">{{ column_warehouse_service_cost }}</td>
													<td class="text-center" colspan="2">{{ column_doors_service_cost }}</td>
					                  				<td class="text-center" rowspan="2" width="100px">{{ column_action }}</td>
					                			</tr>
					                			<tr>
					                  				<td class="text-center">{{ column_tariff_zone_ukraine }}</td>
													<td class="text-center">{{ column_pickup_or_deliver }}</td>
													<td class="text-center">{{ column_pickup_and_deliver }}</td>
					                			</tr>
					              			</thead>
					              			<tbody>
												{% for tariff in novaposhta['tariffs']['document_and_parcel'] %}
													<tr>
														<td><input type="text" name="shipping_novaposhta[tariffs][document_and_parcel][{{ loop.index0 }}][weight]" value="{{ tariff.weight }}" class="form-control" /></td>
														<td><input type="text" name="shipping_novaposhta[tariffs][document_and_parcel][{{ loop.index0 }}][Ukraine]" value="{{ tariff.Ukraine }}" class="form-control" /></td>
														<td><input type="text" name="shipping_novaposhta[tariffs][document_and_parcel][{{ loop.index0 }}][overpay_doors_warehouse]" value="{{ tariff.overpay_doors_warehouse }}" class="form-control" /></td>
														<td><input type="text" name="shipping_novaposhta[tariffs][document_and_parcel][{{ loop.index0 }}][overpay_doors_doors]" value="{{ tariff.overpay_doors_doors }}" class="form-control" /></td>
														<td class="text-center"><button type="button" onclick="$(this).parents('tr').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>
													</tr>
					                			{% endfor %}
					              			</tbody>
					              			<tfoot>
					              				<tr>
													<td colspan="4"></td>
													<td class="text-center"><button type="button" onclick="addTariff('document_and_parcel');" data-toggle="modal" class="btn btn-primary"><i class="fa fa-plus-circle"></i></button>
													</td>
												</tr>
											</tfoot>
					            		</table>
					          		</div>
							    </div>
							    <div class="modal-footer">
									<button type="button" class="btn btn-primary" onclick="save();"><i class="fa fa-check"></i></button>
									<button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i></button>
							    </div>
						    </div>
						</div>
					</div>         
				    <!-- END Modal of tariffs -->

					<!-- START Modal of custom total -->
					<div class="modal fade" id="modal-custom-method" tabindex="-1" role="dialog" aria-labelledby="modal-custom-method-label">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
									<h4 class="modal-title" id="modal-custom-method-label">{{ heading_adding_custom_method }}</h4>
								</div>
								<div class="modal-body">
									<input type="hidden" name="custom_method_type" value="" id="input-custom-method-type" />
									<div class="form-group">
										<label class="col-sm-2 control-label" for="input-custom-method-name">{{ entry_name }}</label>
										<div class="col-sm-10">
											<input type="text" name="custom_method_name" value="" placeholder="{{ entry_name }}" id="input-custom-method-name" class="form-control" />
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label" for="input-custom-method-code">{{ entry_code }}</label>
										<div class="col-sm-10">
											<input type="text" name="custom_method_code" value="" placeholder="{{ entry_code }}" id="input-custom-method-code" class="form-control" />
										</div>
									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" onclick="addCustomMethod('save');"><i class="fa fa-check"></i></button>
									<button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i></button>
								</div>
							</div>
						</div>
					</div>
					<!-- END Modal of custom total -->
        		</form>
				<form action="{{ action_settings }}&type=import" method="post" enctype="multipart/form-data" style="display: none;">
					<input type="file" name="import" accept="text/plain" id="input-import-settings" onchange="this.form.submit();">
				</form>
      		</div>
    	</div>
  	</div>
</div>

<link href="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.2/summernote.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/summernote/0.8.2/summernote.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/js/bootstrap-select.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.4/css/bootstrap-select.min.css">
<script type="text/javascript"><!--
	function save() {
		$.ajax( {
			url: 'index.php?route=extension/shipping/novaposhta&user_token={{ user_token }}',
			type: 'POST',
			data: $('#form-novaposhta').serialize(),
			dataType: 'html',
			success: function (data, textStatus, jqXHR) {
				var $data = $(data);

				if ($data.find('div.alert-danger').length) {
					$('.container-fluid:eq(1)').prepend($data.find('div.alert-danger'));
				}

				if ($data.find('div.text-danger').length) {
					$data.find('div.text-danger').each(function(i, el) {
						var id = '#' + $(el).parents('div[class^="col-sm"]:first').find('input, select, textarea, radio').attr('id');

						$(id).parents('div[class^="col-sm"]:first').append(el);
						$(id).parents('div.form-group').addClass('has-error');
					} );
				}

				if ($data.find('div.alert-success').length) {
					$('.container-fluid:eq(1)').prepend($data.find('div.alert-success'));
				}
			}
		} );
	}

	function settings(type) {
		if (!confirm('{{ text_confirm }}')) {
			return false;
		}

		if (type == 'basic') {
			$.ajax( {
				url: 'index.php?route=extension/shipping/novaposhta/extensionSettings&user_token={{ user_token }}&type=' + type,
				type: 'GET',
				dataType: 'json',
				success: function (json) {
					if (json['success']) {
						$('.container-fluid:eq(1)').prepend('<div class="alert alert-success"><i class="fa fa-check-circle"></i> ' + json['success'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');

						setTimeout(function() {
								location.reload();
							},
							2000
						);
					}

					if(json['error']) {
						$('.container-fluid:eq(1)').prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> ' + json['error'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
					}

					$('html, body').animate({ scrollTop: 0 }, 'slow');
				}
			} );
		} else if (type == 'export') {
			location.href = 'index.php?route=extension/shipping/novaposhta/extensionSettings&user_token={{ user_token }}&type=' + type;
		} else if (type == 'import') {
			$('#input-import-settings').trigger('click');
		}
	}

	function formHandler(element) {
		switch (element.id) {
			case 'input-key_api':
				var key_api = element.value;

				$('#modal-API-key-applying').modal('show');

				$('#API-key-applying-icon').addClass('fa-spin');
				$('#API-key-applying-log').empty().append('<p>{{ text_key_api_checking }} <i class="fa fa-circle-o-notch fa-spin"></i></p>');

				function action(act) {
					$.ajax( {
						url: 'index.php?route=extension/shipping/novaposhta/applyAPIkey&user_token={{ user_token }}',
						type: 'POST',
						data: 'action=' + act + '&key=' + key_api,
						dataType: 'json',
						beforeSend: function () {
						},
						complete: function () {
						},
						success: function(json) {
							if (json['error']) {
								$('#API-key-applying-log').find('i:last').replaceWith('<i class="fa fa-exclamation-circle text-danger"></i>');
								$('#API-key-applying-icon').removeClass('fa-spin');

								for(var e in json['error']) {
									$('#API-key-applying-log').append('<p class="text-danger">' + json['error'][e] + '</p>');
								}
							}

							if (json['next_action']) {
								$('#API-key-applying-log').find('i').replaceWith('<i class="fa fa-check text-success" aria-hidden="true"></i>');
								$('#API-key-applying-log').append('<p>' + json['next_action_text'] + ' <i class="fa fa-circle-o-notch fa-spin"></i></p>');

								if (json['next_action'] == 'saving') {
									$('#API-key-applying-icon').removeClass('fa-spin');

									save();

									setTimeout(function() {
											$('#modal-API-key-applying').modal('hide');

											location.reload();
										},
										2000
									);
								} else {
									action(json['next_action']);
								}
							}
						}
					} );
				}

				action('check');

				break;

			case 'input-sender':
				var
					post_data = 'action=getContactPerson&filter=' + element.value,
					checked = "{{ novaposhta['sender_contact_person'] }}";

				$.ajax( {
					url: 'index.php?route=extension/shipping/novaposhta/getNPData&user_token={{ user_token }}',
					type: 'POST',
					data: post_data,
					dataType: 'json',
					beforeSend: function () {
					},
					complete: function () {
					},
					success: function (json) {
						var html = '<option value="">{{ text_select }}</option>';

						for (var i in json) {
							if (json[i]['Ref'] == checked) {
								html += '<option value="' + json[i]['Ref'] + '" selected="selected">' + json[i]['Description'] + ', ' + json[i]['Phones'] + '</option>';
							} else {
								html += '<option value="' + json[i]['Ref'] + '">' + json[i]['Description'] + ', ' + json[i]['Phones'] + '</option>';
							}
						}

						$('#input-sender_contact_person').html(html);
					}
				} );

				break;

			case 'input-sender_city_name':
				$('#input-sender_address, #input-sender_address_name, #input-sender_address_type').val('');

			break;

			case 'input-sender_address_name':
				var post_data = 'action=getAddressType&filter=' + encodeURIComponent($('#input-sender_address').val());

				$.ajax( {
					url: 'index.php?route=extension/shipping/novaposhta/getNPData&user_token={{ user_token }}',
					type: 'POST',
					data: post_data,
					dataType: 'json',
					beforeSend: function () {
					},
					complete: function () {
					},
					success: function (json) {
						$('#input-sender_address_type').val(json['address_type']);
					}
				} );

				break;

			case 'input-warehouse_cost-enabled':
			case 'input-warehouse_cost-disabled':
			case 'input-doors_cost-enabled':
			case 'input-doors_cost-disabled':
			case 'input-calculate_volume-enabled':
			case 'input-calculate_volume-disabled':
				if (+element.value) {
					$(element).parent().parent().nextAll().fadeIn();
				} else {
					$(element).parent().parent().nextAll().fadeOut();
				}

				break;

			case 'input-autodetection_departure_type-enabled':
			case 'input-autodetection_departure_type-disabled':
				if (!+element.value) {
					$(element).parent().parent().nextAll().fadeIn();
				} else {
					$(element).parent().parent().nextAll().fadeOut();
				}

				break;

			case 'input-pack-enabled':
			case 'input-pack-disabled':
				if (+element.value) {
					$('#input-pack_type, #input-autodetection_pack_type-enabled').parents('div.form-group').fadeIn();
				} else {
					$('#input-pack_type, #input-autodetection_pack_type-enabled').parents('div.form-group').fadeOut();
				}

				break;

			case 'input-money_transfer_method':
				if (element.value == 'to_payment_card') {
					$('#input-default_payment_card').parents('div.form-group').fadeIn();
				} else {
					$('#input-default_payment_card').parents('div.form-group').fadeOut();
				}

				break;

			case 'input-print_format':
			case 'input-template_type':
				var
					print_format = $('#input-print_format').val(),
					template_type = $('#input-template_type').val();

				if (print_format == 'markings_A4' && template_type == 'html') {
					$('#input-print_type, input[id^="input-print_start"]').parents('div.form-group').fadeIn();
				} else {
					$('#input-print_type, input[id^="input-print_start"]').parents('div.form-group').fadeOut();
				}

				break;

			case 'input-print_type':
				var
						$print_start_1 = $('#div-vertical-1'),
						$print_start_2 = $('#div-vertical-2')

				if (element.value == 'horPrint') {
					$print_start_1.find('label:odd').hide();
					$print_start_1.find('label:even').show();
					$print_start_2.find('label:odd').show();
					$print_start_2.find('label:even').hide();
				} else {
					$print_start_1.find('label:lt(4)').show();
					$print_start_1.find('label:gt(3)').hide();
					$print_start_2.find('label:lt(4)').hide();
					$print_start_2.find('label:gt(3)').show();
				}

				break;
		}
	}
	    
	function update(type) {
		$.ajax( {
			url: 'index.php?route=extension/shipping/novaposhta/update&type=' + type + '&user_token={{ user_token }}',
			dataType: 'json',
			beforeSend: function () {
				$('#button-update_' + type + ' > i').addClass('fa-spin');
			},
			complete: function () {
				var $alerts = $('.alert-danger, .alert-success');

				$('#button-update_' + type + ' > i').removeClass('fa-spin');

				if ($alerts.length !== 0) {
					setTimeout(function() { $alerts.fadeOut() }, 5000);
				}
			},
			success: function (json) {
				if(json['success']) {
					var diff = json['amount'] - $('#td-' + type + '_amount').text();

					$('.container-fluid:eq(1)').prepend('<div class="alert alert-success"><i class="fa fa-check-circle"></i> ' + json['success'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');

					if (diff > 0) {
						$('#td-' + type + '_amount').append(' <strong><font color="green">+' + diff + '</font></strong>');
					} else if (diff < 0) {
						$('#td-' + type + '_amount').append(' <strong><font color="red">' + diff + '</font></strong>');
					}
				}

				if(json['error']) {
					$('.container-fluid:eq(1)').prepend('<div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> ' + json['error'] + '<button type="button" class="close" data-dismiss="alert">&times;</button></div>');
				}

				$('html, body').animate({ scrollTop: 0 }, 'slow');
			}
		} );
	}

	function addCustomMethod(type) {
		if (type != 'save') {
			$('#input-custom-method-type').val(type);
			$('#modal-custom-method').modal('show');
		} else {
			var
				method_type = $('#input-custom-method-type').val(),
				method_name = $('#input-custom-method-name').val(),
				method_code = $('#input-custom-method-code').val();

			$('label[for=input-' + method_type + '] + div').find('br').before('<div class="checkbox"><label><input type="hidden" name="shipping_novaposhta[' + method_type + '][' + method_code + '][code]" value="' + method_code + '" /><input type="hidden" name="shipping_novaposhta[' + method_type + '][' + method_code + '][name]" value="' + method_name + '" /><input type="checkbox" name="shipping_novaposhta[' + method_type + '][]" value="' + method_code + '" /> ' + method_name + ' <button type="button" class="btn btn-danger btn-xs" onclick="$(this).parents(\'div.checkbox\').remove();"><i class="fa fa-minus-circle" aria-hidden="true"></i></button></label></div>');
		}
	}

	function addTariff(tariff_name) {
		var
			count = $('#table-tariffs tbody tr').length + 1,
			row = '<tr>';

		row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][weight]" value="" class="form-control" /></td>';
		row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][Ukraine]" value="" class="form-control" /></td>';
		row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][overpay_doors_warehouse]" value="" class="form-control" /></td>';
		row += '<td><input type="text" name="shipping_novaposhta[tariffs][' + tariff_name + '][' + count + '][overpay_doors_doors]" value="" class="form-control" /></td>';
		row += '<td class="text-center"><button type="button" onclick="$(this).parents(\'tr\').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		row += '</tr>';

		$('#table-tariffs tbody').append(row);
	}

	function addTrackingStatus() {
		var
			count = $('#table-tracking_statuses tbody tr').length,
			row = '<tr>';

		row += '<td><select name="shipping_novaposhta[settings_tracking_statuses][' + count + '][novaposhta_status]" class="form-control">{% for document_status in document_statuses %}<option value="{{ document_status.StatusId }}">{{ document_status.Description }}</option>{% endfor %}</select></td>';
		row += '<td><select name="shipping_novaposhta[settings_tracking_statuses][' + count + '][store_status]" class="form-control">{% for order_status in order_statuses %}<option value="{{ order_status.order_status_id }}">{{ order_status.name }}</option>{% endfor %}</select></td>';
		row += '<td><div class="input-group"><span class="input-group-btn" style="width: 50%;"><select name="shipping_novaposhta[settings_tracking_statuses][' + count + '][implementation_delay][type]" class="form-control">{% for k, v in time %}<option value="{{ k }}">{{ v }}</option>{% endfor %}</select></span><input type="text" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][implementation_delay][value]" value="" class="form-control" /></div></td>';
		row += '<td><div class="form-group"><label class="col-sm-10 control-label">{{ entry_admin_notification }}</label><div class="col-sm-2"><input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][admin_notification]"></div></div><div class="form-group"><label class="col-sm-10 control-label">{{ entry_customer_notification }}</label><div class="col-sm-2"><input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][customer_notification]"></div></div><div class="form-group"><label class="col-sm-10 control-label">{{ entry_customer_notification_default }}</label> <div class="col-sm-2"><input type="checkbox" name="shipping_novaposhta[settings_tracking_statuses][' + count + '][customer_notification_default]"></div></div></td>';
		row += '<td><div class="form-group"><label class="col-sm-2 control-label">{{ entry_email }}</label><div class="col-sm-10"><ul class="nav nav-tabs" role="tablist">{% for language in languages %}<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_email_' + count + '_{{ language.language_id }}" aria-controls="tracking_statuses_email_' + count + '_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>{% endfor %} </ul><div class="tab-content">{% for language in languages %}<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_email_' + count + '_{{ language.language_id }}"><textarea name="shipping_novaposhta[settings_tracking_statuses][' + count + '][email][{{ language.language_id }}]" placeholder="{{ entry_email }}" class="form-control summernote"></textarea></div>{% endfor %}</div></div></div><div class="form-group"><label class="col-sm-2 control-label">{{ entry_sms }}</label><div class="col-sm-10"><ul class="nav nav-tabs" role="tablist">{% for language in languages %}<li{{ language_id == language.language_id ? ' class="active"' }}><a href="#tracking_statuses_sms_' + count + '_{{ language.language_id }}" aria-controls="tracking_statuses_sms_' + count + '_{{ language.language_id }}" role="tab" data-toggle="tab"><img src="{{ language_flag[language.language_id] }}" title="{{ language.name }}" /> {{ language.name }}</a></li>{% endfor %} </ul><div class="tab-content">{% for language in languages %}<div role="tabpanel" class="tab-pane{{ language_id == language.language_id ? ' active' }}" id="tracking_statuses_sms_' + count + '_{{ language.language_id }}"><textarea name="shipping_novaposhta[settings_tracking_statuses][' + count + '][sms][{{ language.language_id }}]" placeholder="{{ entry_sms }}"class="form-control"></textarea></div>{% endfor %}</div></div></div></td>';
		row += '<td class="text-center"><button type="button" onclick="$(this).parents(\'tr\').remove();" class="btn btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
		row += '</tr>';

		$('#table-tracking_statuses tbody').append(row);

		$('#table-tracking_statuses tbody tr:last textarea.summernote').summernote();

	}

	function generateKey() {
		$.ajax( {
			url: 'index.php?route=extension/shipping/novaposhta/generateKey&user_token={{ user_token }}',
			dataType: 'json',
			beforeSend: function () {
				$('#button-generate-cron-key > i').addClass('fa-spin');
			},
			complete: function () {
				$('#button-generate-cron-key > i').removeClass('fa-spin');
			},
			success: function (json) {
				if (json['code']) {
					$('#input-key_cron').val(json['code'])
				}
			}
		} );
	}

	function copyToClipboard(container_id) {
		window.getSelection().removeAllRanges();

		if (document.selection) {
			var
				range = document.body.createTextRange(),
				el = document.getElementById(container_id);

			range.moveToElementText(el);
			range.select().createTextRange();
			document.execCommand('Copy');
		} else if (window.getSelection) {
			var
				range = document.createRange(),
				el = document.getElementById(container_id);

			range.selectNode(el);
			window.getSelection().addRange(range);
			document.execCommand('Copy');
		}
	}

	$(function() {
		$('.summernote').summernote();

		$.ajaxSetup( {
			beforeSend: function () {
				$('body').fadeTo('fast', 0.7).prepend('<div id="ocmax-loader" style="position: fixed; top: 50%;	left: 50%; z-index: 9999;"><i class="fa fa-spinner fa-spin fa-3x fa-fw"></i></div>');
			},
			complete: function () {
				var $alerts = $('.alert-danger, .alert-success');

				if ($alerts.length !== 0) {
					setTimeout(function() { $alerts.fadeOut() }, 5000);
				}

				$('body').fadeTo('fast', 1);
				$('#ocmax-loader').remove();
			},
			error: function (jqXHR, textStatus, errorThrown) {
				console.log(textStatus);
			}
		} );


		$('input[id^="input-warehouse_cost"]:checked, input[id^="input-doors_cost"]:checked, input[id^="input-autodetection_departure_type"]:checked, input[id^="input-calculate_volume"]:checked, input[id^="input-pack"]:checked, #input-money_transfer_method, #input-print_format, #input-template_type, #input-print_type').each(function() {
			formHandler(this);
		} );

		$('input, select, textarea').on('change', function(e) {
			formHandler(e.currentTarget);
		} );

		$('#div-vertical-1, #div-vertical-2').on('click', function (e) {
			$('#div-vertical-1, #div-vertical-2').not('#' + e.currentTarget.id).find('label').removeClass('active').find('input').removeAttr('checked');
		} );

		$('#button-tariffs').on('click', function () {
			$('#modal-edit-tariffs').modal('show');
		} );

		// Search city
		$('#input-sender_city_name').autocomplete( {
			source: function(request, response) {
				var post_data = 'city=' + encodeURIComponent(request);

				$.ajax( {
					url: 'index.php?route=extension/shipping/novaposhta/autocomplete&user_token={{ user_token }}',
					type: 'POST',
					data: post_data,
					dataType: 'json',
					beforeSend: function () {
					},
					complete: function () {
					},
					success: function(json) {
						response($.map(json, function(item) {
							return {
								label: item['FullDescription'],
								value: item['Description'],
								ref:   item['Ref']
							}
						} ));
					}
				} );
			},
			select: function(item) {
				$(this).val(item['value']).trigger('change');
				$(this).siblings('input[type="hidden"]').val(item['ref']);
			}
		} );

		// Search address
		$('#input-sender_address_name').autocomplete( {
			source: function(request, response) {
				var post_data = 'address=' + encodeURIComponent(request) + '&filter=' + encodeURIComponent($('#input-sender_city').val()) + '&sender=' + encodeURIComponent($('#input-sender').val());

				$.ajax( {
					url: 'index.php?route=extension/shipping/novaposhta/autocomplete&user_token={{ user_token }}',
					type: 'POST',
					data: post_data,
					dataType: 'json',
					beforeSend: function () {
					},
					complete: function () {
					},
					success: function(json) {
						response($.map(json, function(item) {
							return {
								label: item['Description'],
								value: item['Ref']
							}
						} ));
					}
				} );
			},
			select: function(item) {
				$('#input-sender_address').val(item['value']);
				$(this).val(item['label']).trigger('change');
			}
		} );

		// Search recipient
		$('#input-recipient_name').autocomplete( {
			source: function(request, response) {
				$.ajax( {
					url: 'index.php?route=extension/shipping/novaposhta/autocomplete&user_token={{ user_token }}',
					type: 'POST',
					data: 'recipient_name=' + encodeURIComponent(request),
					dataType: 'json',
					success: function(json) {
						response($.map(json, function(item) {
							return {
								label: item['FullDescription'],
								value: item['Description'],
								ref: item['Ref']
							}
						} ));
					}
				} );
			},
			select: function(item) {
				$(this).val(item['value']);
				$(this).siblings('input[type="hidden"]').val(item['ref']);
			}
		} );

		// Departure description
		$('#input-departure_description').autocomplete({
			source: function(request, response) {
				var post_data = 'departure_description=' + encodeURIComponent(request);

				$.ajax( {
					url: 'index.php?route=extension/shipping/novaposhta/autocomplete&user_token={{ user_token }}',
					type: 'POST',
					data: post_data,
					dataType: 'json',
					beforeSend: function () {
					},
					complete: function () {
					},
					success: function(json) {
						response($.map(json, function(item) {
							return {
								label: item['Description'],
								value: item['Description'],
							}
						} ));
					}
				} );
			},
			select: function(item) {
				$(this).val(item['value']);
			}
		} );
	} );
//--></script>
{{ footer }}